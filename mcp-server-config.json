{
  "_comment": "Mayday EC MCP Server Configuration - Updated Jan 13, 2026",
  "_servers": {
    "dell-server": {
      "ip": "192.168.1.14",
      "hardware": "Dell PowerEdge",
      "purpose": "Primary production server with Cloud SIP trunk",
      "user": "medhi",
      "sudoPassword": "Pasword@1759",
      "rootPassword": "Lotuskm@1759"
    },
    "hpe-server": {
      "ip": "192.168.1.15",
      "hardware": "HPE ProLiant DL380 Gen11",
      "purpose": "New server for Asterisk/MySQL (MTN SIP trunk via leased line)",
      "user": "mayday",
      "sudoPassword": "Pasword@1759",
      "rootPassword": "Pasword@1759"
    }
  },
  "_notes": {
    "nodeLocation": "Node.js installed via NVM at /root/.nvm/versions/node/v18.20.8",
    "pm2Note": "PM2 runs as root, requires sudo and NVM source to access",
    "projectPath": "/home/medhi/Mayday_EC (Dell) | /home/mayday (HPE)",
    "sshCommandPattern": "ssh -i ~/.ssh/id_ed25519 <user>@<ip> \"echo 'Pasword@1759' | sudo -S <command>\""
  },
  "mcpServers": {
    "mayday-asterisk-server": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14"
      ],
      "env": {
        "TERM": "xterm-256color"
      },
      "cwd": "/home/medhi/Mayday_EC",
      "description": "On-prem Asterisk server (192.168.1.14) - SSH key authentication"
    },
    "mayday-asterisk-root": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "-t",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S su -"
      ],
      "env": {
        "TERM": "xterm-256color"
      },
      "cwd": "/",
      "description": "On-prem Asterisk server as ROOT - use for admin operations"
    },
    "mayday-mysql-root": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S mysql -u root asterisk"
      ],
      "env": {
        "TERM": "xterm-256color"
      },
      "cwd": ".",
      "description": "MySQL as root on Asterisk server - for database operations"
    },
    "mayday-asterisk-cli": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S asterisk -rx"
      ],
      "env": {
        "TERM": "xterm-256color"
      },
      "cwd": ".",
      "description": "Asterisk CLI commands - append command in quotes e.g. 'dialplan reload'"
    },
    "mayday-local-dev": {
      "command": "node",
      "args": [
        "server/server.js"
      ],
      "env": {
        "NODE_ENV": "development",
        "PORT": "8004"
      },
      "cwd": ".",
      "description": "Local development server"
    },
    "mayday-database": {
      "command": "mysql",
      "args": [
        "-h",
        "192.168.1.14",
        "-P",
        "3306",
        "-u",
        "mayday_user",
        "-p",
        "asterisk"
      ],
      "env": {
        "MYSQL_PWD": "${DB_PASSWORD}"
      },
      "cwd": ".",
      "description": "Main CRM database on local Asterisk server"
    },
    "mayday-database-monitor": {
      "command": "node",
      "args": [
        "scripts/db-monitor.js"
      ],
      "env": {
        "NODE_ENV": "development"
      },
      "cwd": ".",
      "description": "Database connection monitoring service"
    },
    "mayday-pm2-status": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S bash -c 'export NVM_DIR=/root/.nvm && source /root/.nvm/nvm.sh && pm2 status mayday'"
      ],
      "cwd": ".",
      "description": "Check PM2 status for mayday app on on-prem server"
    },
    "mayday-pm2-restart": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S bash -c 'export NVM_DIR=/root/.nvm && source /root/.nvm/nvm.sh && pm2 restart mayday'"
      ],
      "cwd": ".",
      "description": "Restart mayday app via PM2 on on-prem server"
    },
    "mayday-pm2-logs": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S bash -c 'export NVM_DIR=/root/.nvm && source /root/.nvm/nvm.sh && pm2 logs mayday --lines 200 --nostream'"
      ],
      "cwd": ".",
      "description": "Tail PM2 logs for mayday app on on-prem server"
    },
    "mayday-deploy": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S bash -c 'export NVM_DIR=/root/.nvm && source /root/.nvm/nvm.sh && cd /home/medhi/Mayday_EC && git pull origin development && npm install && cd client && npm install && npm run build && cd .. && pm2 restart mayday'"
      ],
      "cwd": ".",
      "description": "Full deployment: git pull, npm install, build client, restart PM2"
    },
    "mayday-nginx-status": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S systemctl status nginx"
      ],
      "cwd": ".",
      "description": "Check nginx status on on-prem server"
    },
    "mayday-nginx-restart": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S systemctl restart nginx"
      ],
      "cwd": ".",
      "description": "Restart nginx on on-prem server"
    },
    "mayday-pbx-server": {
      "command": "ssh",
      "args": [
        "-t",
        "mayday@192.168.1.15"
      ],
      "env": {
        "TERM": "xterm-256color"
      },
      "cwd": "/home/mayday",
      "description": "HPE ProLiant DL380 Gen11 server (192.168.1.15) - Password: Pasword@1759, then use 'su -' with same password for root"
    },
    "mayday-pbx-root": {
      "_note": "SSH as mayday, then run 'su -' with password Pasword@1759 to become root. PM2 runs under root.",
      "command": "ssh",
      "args": [
        "-t",
        "mayday@192.168.1.15"
      ],
      "env": {
        "TERM": "xterm-256color"
      },
      "cwd": "/",
      "description": "HPE server - SSH then 'su -' for root. Password: Pasword@1759. PM2 logs: pm2 logs mayday --lines 100 --nostream"
    },
    "mayday-hpe-deploy": {
      "_note": "Deployment: SSH as mayday → su - → cd /home/mayday/Mayday_EC → git pull origin HPE → pm2 restart mayday",
      "steps": [
        "ssh -t mayday@192.168.1.15",
        "Enter password: Pasword@1759",
        "su -",
        "Enter password: Pasword@1759",
        "cd /home/mayday/Mayday_EC",
        "git pull origin HPE",
        "pm2 restart mayday"
      ],
      "description": "HPE Server Deployment Steps - manual interactive SSH session required"
    }
  },
  "context7": {
    "enabled": true,
    "libraries": [
      "asterisk-ami",
      "asterisk-ari",
      "sipjs",
      "node-ami",
      "asterisk-manager",
      "mysql2",
      "sequelize",
      "odbc"
    ]
  },
  "development": {
    "hotReload": true,
    "debugMode": true,
    "logLevel": "debug",
    "autoRestart": true
  },
  "asterisk": {
    "ami": {
      "host": "192.168.1.14",
      "port": 5038,
      "username": "${AMI_USERNAME}",
      "password": "${AMI_PASSWORD}"
    },
    "ari": {
      "host": "192.168.1.14",
      "port": 8088,
      "username": "${ARI_USERNAME}",
      "password": "${ARI_PASSWORD}"
    }
  },
  "databases": {
    "main": {
      "host": "192.168.1.14",
      "port": 3306,
      "name": "asterisk",
      "user": "mayday_user",
      "description": "Main CRM database with call records, users, and voice extensions"
    }
  },
  "monitoring": {
    "databaseHealth": true,
    "connectionPooling": true,
    "queryPerformance": true,
    "backupStatus": true
  }
}