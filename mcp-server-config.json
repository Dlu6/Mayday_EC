{
  "_comment": "Mayday EC MCP Server Configuration - Updated Dec 18, 2025",
  "_notes": {
    "sshUser": "medhi (SSH key auth via ~/.ssh/id_ed25519)",
    "sudoPassword": "Pasword@1759 (for medhi user)",
    "rootPassword": "Lotuskm@1759 (root user - not used for SSH)",
    "nodeLocation": "Node.js installed via NVM at /root/.nvm/versions/node/v18.20.8",
    "pm2Note": "PM2 runs as root, requires sudo and NVM source to access",
    "projectPath": "/home/medhi/Mayday_EC"
  },
  "mcpServers": {
    "mayday-asterisk-server": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14"
      ],
      "env": {
        "TERM": "xterm-256color"
      },
      "cwd": "/home/medhi/Mayday_EC",
      "description": "On-prem Asterisk server (192.168.1.14) - SSH key authentication"
    },
    "mayday-local-dev": {
      "command": "node",
      "args": ["server/server.js"],
      "env": {
        "NODE_ENV": "development",
        "PORT": "8004"
      },
      "cwd": ".",
      "description": "Local development server"
    },
    "mayday-database": {
      "command": "mysql",
      "args": [
        "-h",
        "192.168.1.14",
        "-P",
        "3306",
        "-u",
        "mayday_user",
        "-p",
        "asterisk"
      ],
      "env": {
        "MYSQL_PWD": "${DB_PASSWORD}"
      },
      "cwd": ".",
      "description": "Main CRM database on local Asterisk server"
    },
    "mayday-database-monitor": {
      "command": "node",
      "args": ["scripts/db-monitor.js"],
      "env": {
        "NODE_ENV": "development"
      },
      "cwd": ".",
      "description": "Database connection monitoring service"
    },
    "mayday-pm2-status": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S bash -c 'export NVM_DIR=/root/.nvm && source /root/.nvm/nvm.sh && pm2 status mayday'"
      ],
      "cwd": ".",
      "description": "Check PM2 status for mayday app on on-prem server"
    },
    "mayday-pm2-restart": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S bash -c 'export NVM_DIR=/root/.nvm && source /root/.nvm/nvm.sh && pm2 restart mayday'"
      ],
      "cwd": ".",
      "description": "Restart mayday app via PM2 on on-prem server"
    },
    "mayday-pm2-logs": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S bash -c 'export NVM_DIR=/root/.nvm && source /root/.nvm/nvm.sh && pm2 logs mayday --lines 200 --nostream'"
      ],
      "cwd": ".",
      "description": "Tail PM2 logs for mayday app on on-prem server"
    },
    "mayday-deploy": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S bash -c 'export NVM_DIR=/root/.nvm && source /root/.nvm/nvm.sh && cd /home/medhi/Mayday_EC && git pull origin development && npm install && cd client && npm install && npm run build && cd .. && pm2 restart mayday'"
      ],
      "cwd": ".",
      "description": "Full deployment: git pull, npm install, build client, restart PM2"
    },
    "mayday-nginx-status": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S systemctl status nginx"
      ],
      "cwd": ".",
      "description": "Check nginx status on on-prem server"
    },
    "mayday-nginx-restart": {
      "command": "ssh",
      "args": [
        "-i",
        "~/.ssh/id_ed25519",
        "medhi@192.168.1.14",
        "echo 'Pasword@1759' | sudo -S systemctl restart nginx"
      ],
      "cwd": ".",
      "description": "Restart nginx on on-prem server"
    }
  },
  "context7": {
    "enabled": true,
    "libraries": [
      "asterisk-ami",
      "asterisk-ari",
      "sipjs",
      "node-ami",
      "asterisk-manager",
      "mysql2",
      "sequelize",
      "odbc"
    ]
  },
  "development": {
    "hotReload": true,
    "debugMode": true,
    "logLevel": "debug",
    "autoRestart": true
  },
  "asterisk": {
    "ami": {
      "host": "192.168.1.14",
      "port": 5038,
      "username": "${AMI_USERNAME}",
      "password": "${AMI_PASSWORD}"
    },
    "ari": {
      "host": "192.168.1.14",
      "port": 8088,
      "username": "${ARI_USERNAME}",
      "password": "${ARI_PASSWORD}"
    }
  },
  "databases": {
    "main": {
      "host": "192.168.1.14",
      "port": 3306,
      "name": "asterisk",
      "user": "mayday_user",
      "description": "Main CRM database with call records, users, and voice extensions"
    }
  },
  "monitoring": {
    "databaseHealth": true,
    "connectionPooling": true,
    "queryPerformance": true,
    "backupStatus": true
  }
}
